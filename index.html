<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
    <!-- Replace the content tag with appropriate information -->
    <!-- <meta name="description" content="DESCRIPTION META TAG"> -->
    <meta property="og:title"
          content="Marrying Latent Diffusion and Language Model for Story Visualization"/>
    <!-- <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG TAG" /> -->
    <meta property="og:url" content="URL OF THE WEBSITE"/>
    <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
    <meta property="og:image" content="static/images/attn.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>


    <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
    <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
    <!--     Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
    <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
    <meta name="twitter:card" content="summary_large_image">
    <!--     Keywords for your paper to be indexed by-->
    <meta name="keywords" content="KEYWORDS SHOULD BE PLACED HERE">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Marrying Latent Diffusion and Language Model for Story Visualization</title>
    <link rel="icon" type="image/x-icon" href="static/images/icon.jpeg">
    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

    <link rel="stylesheet" href="static/css/bulma.min.css">
    <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link rel="stylesheet" href="static/css/index.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
    <script defer src="static/js/fontawesome.all.min.js"></script>
    <script src="static/js/bulma-carousel.min.js"></script>
    <script src="static/js/index.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <style>
        .hidden {
            display: none;
            max-width: 100%;
            height: auto;
        }

        .text-button {
            border: none;
            background: none;
            padding: 2px 2px;
            font-size: inherit;
            cursor: pointer;
            border-radius: 2px;
            transition: background 0.3s ease-in-out, color 0.3s ease-in-out;
            /*margin-right: 1px;*/
        }

        .text-button#first { /* Select the button with ID "fred" */
            background: #007bff; /* Blue color as initialization */
            color: white; /* White text color as initialization */
        }

        .text-button.active {
            background: #007bff; /* Blue color for the active state */
            color: white; /* White text color for the active state */
        }

        .text-button:hover {
            background-color: #007bff;
            color: white;
        }
    </style>
</head>

<body>


<section class="hero banner">
    <div class="hero-body">
        <div class="container is-max-desktop">
            <div class="columns is-centered">
                <div class="column has-text-centered">
                    <h1 class="title is-1 publication-title">Marrying Latent Diffusion and Language Model for Story
                        Visualization</h1>
                    <div class="is-size-5 publication-authors">
                        <!-- Paper authors -->
                        <span class="author-block">
                                <a href="#" target="_blank">Anonymous Submission</a></span>
                    </div>
                    <br>
                    <div class="is-size-5 publication-authors">
                        <!-- Paper authors -->
                        <span class="author-block">CVPR 2024</span>
                    </div>
                    <br>
                    <div class="column has-text-centered">
                        <div class="publication-links">
                                <span class="link-block">
                                    <a href="#" target="_blank"
                                       class="external-link button is-normal is-rounded is-white">
                                        <span class="icon">
                                            <i class="fas fa-file-pdf"></i>
                                        </span>
                                        <span>Paper</span>
                                    </a>
                                </span>

                            <span class="link-block">
                                    <a href="https://anonymous.4open.science/r/StoryVL-anony" target="_blank"
                                       class="external-link button is-normal is-rounded is-white">
                                        <span class="icon">
                                            <i class="fab fa-github"></i>
                                        </span>
                                        <span>Code</span>
                                    </a>
                                </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Image carousel -->
<section class="hero is-small">
    <div class="hero-body">
        <div class="columns is-centered has-text-centered">
            <div class="column is-four-fifths">
                <div class="container">
                    <div id="results-carousel" class="carousel results-carousel">
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones1.png" alt="carousel1"/>
                            </div>
                            <div class="card-content has-text-centered">Fred and Barney are walking outside. Barney says
                                something and then Fred replies.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones2.png" alt="carousel2"/>
                            </div>
                            <div class="card-content has-text-centered">Wilma talks to Fred who is sitting at a cluttered desk in an office.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones3.png" alt="carousel3"/>
                            </div>
                            <div class="card-content has-text-centered">Fred and Barney are in the kitchen. Fred is stirring a bowl while Barney watches him. Fred speaks to Barney.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones4.png" alt="carousel4"/>
                            </div>
                            <div class="card-content has-text-centered">Betty is talking to her pet bird at the office.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones5.png" alt="carousel5"/>
                            </div>
                            <div class="card-content has-text-centered">Wilma is in the kitchen. She is arguing her point to someone.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones6.png" alt="carousel6"/>
                            </div>
                            <div class="card-content has-text-centered">Dino is dancing in the living room jumping and hopping.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones7.png" alt="carousel7"/>
                            </div>
                            <div class="card-content has-text-centered">Mr slate is looking at the papers in his office speaking.
                            </div>
                        </div>
                        <div class="card" style="height: 90%">
                            <div class="card-image">
                                <img src="static/images/examples/flintstones8.png" alt="carousel7"/>
                            </div>
                            <div class="card-content has-text-centered">Wilma and Pebbles are in the dining room. Pebbles is in a high chair drinking from a cup.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End image carousel -->

<!-- Paper abstract -->
<section class="section hero is-light">
    <div class="container is-max-desktop">
        <div class="columns is-centered has-text-centered">
            <div class="column is-four-fifths">
                <h2 class="title is-3">Abstract</h2>
                <div class="content has-text-justified">
                    <p>
                        Recently generative models demonstrate impressive capabilities in crafting realistic and
                        visually pleasing images based on textual prompts. Nevertheless, a significant challenge remains
                        in utilizing these models for the more intricate task of visualizing stories. This involves
                        understanding natural references i.e., he, she, or they, from text descriptions and maintaining
                        coherence in characters and backgrounds across different frames, which indicates a powerful
                        text-to-image model alone struggles to handle such task. Yet, the emerging Large Language Model
                        (LLM) showcases robust reasoning abilities to navigate through ambiguous references and process
                        extensive sequences. Therefore, our goal is to leverage the merits of both models to produce
                        images with consistent and high fidelity characters for story descriptions.
                        Initially, we supervise the cross-attention map of latent diffusion (LDM) with segmentation
                        masks of characters for to enhance the accuracy and faithfulness of character generation. In the
                        second stage, we enable a mapping from the output of LLM to synchronize with the input space of
                        the first stage LDM. This harnesses the reasoning ability of LLM to address unambiguous
                        references and comprehension capability to memorize the context. We compare with SoTA on two
                        visual story generation benchmarks. Our model reports superior quantitative results and
                        consistently generates characters with remarkable fidelity.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End paper abstract -->
<section class="hero is-small">
    <div class="hero-body">
        <div class="container is-max-desktop">
            <h2 class="title is-3">Cross Attention Visualization</h2>
            <div class="container">
                <br>
                <h2 class="title is-5">Attention Map of Characters</h2>
                <div class="item" align="center">
                    <img src="static/images/attn.png" width="800"/>
                </div>
                <br>
                <h2 class="title is-5">Attention Map of Each Token</h2>
                <div style="color: grey; font-style: italic">Move your cursor over each word to view the associated
                    attention map.
                </div>
                <div style="color: grey; font-style: italic">Transitions may take a second due to potential browser
                    loading delays.
                </div>
                <br>
                <p id="sentence">
                    Caption:
                    <button id="first" class="text-button" onmouseover="showImage('fred1')">
                        Fred
                    </button>
                    <button id="and" class="text-button" onmouseover="showImage('and')">and</button>
                    <button id="barney1" class="text-button" onmouseover="showImage('barney1')">Barney</button>
                    <button id="are1" class="text-button" onmouseover="showImage('are1')">are</button>
                    <button id="standing" class="text-button" onmouseover="showImage('standing')">standing</button>
                    <button id="in" class="text-button" onmouseover="showImage('in')">in</button>
                    <button id="the" class="text-button" onmouseover="showImage('the')">the</button>
                    <button id="room" class="text-button" onmouseover="showImage('room')">room.</button>
                    <button id="fred2" class="text-button" onmouseover="showImage('fred2')">Fred</button>
                    <button id="is" class="text-button" onmouseover="showImage('is')">is</button>
                    <button id="talking" class="text-button" onmouseover="showImage('talking')">talking</button>
                    <button id="to" class="text-button" onmouseover="showImage('to')">to</button>
                    <button id="barney2" class="text-button" onmouseover="showImage('barney2')">Barney.</button>
                    <button id="they" class="text-button" onmouseover="showImage('they')">They</button>
                    <button id="are2" class="text-button" onmouseover="showImage('are2')">are</button>
                    <button id="both" class="text-button" onmouseover="showImage('both')">both</button>
                    <button id="wearing" class="text-button" onmouseover="showImage('wearing')">wearing</button>
                    <button id="hats" class="text-button" onmouseover="showImage('hats')">hats.</button>
                </p>
                <br>
                <div align="center">
                    <img id="image" class="hidden" src="" alt="Corresponding Image" width="800px">
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    image.src = "static/images/attn/fred1.png";
    image.style.display = "block";
    var activeButton = null;

    function showImage(word) {
        var image = document.getElementById("image");

        image.src = "static/images/attn/" + word + ".png";
        image.style.display = "block";
        var fredButton = document.getElementById("first");
        if (word !== "fred1") {
            fredButton.style.background = "none";
            fredButton.style.color = "black";
        } else {
            fredButton.style.background = "#007bff";
            fredButton.style.color = "white";
        }
        if (activeButton) {
            activeButton.classList.remove("active");
        }
        activeButton = document.getElementById(word.toLowerCase());
        activeButton.classList.add("active");
    }

    function hideImage() {
        var image = document.getElementById("image");
        image.style.display = "none";
    }
</script>

<section class="hero is-small">
    <div class="hero-body">
        <div class="container is-max-desktop">
            <h2 class="title is-3">More Samples</h2>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample1">
                            <img loading="lazy" src="static/images/flintstones1.png" alt="sample1"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample2">
                            <img loading="lazy" src="static/images/flintstones2.png" alt="sample2">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample3">
                            <img loading="lazy" src="static/images/flintstones3.png" alt="sample3"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample4">
                            <img loading="lazy" src="static/images/flintstones4.png" alt="sample4">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample5">
                            <img loading="lazy" src="static/images/flintstones5.png" alt="sample5"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample6">
                            <img loading="lazy" src="static/images/flintstones6.png" alt="sample6">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample7">
                            <img loading="lazy" src="static/images/flintstones7.png" alt="sample7"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample8">
                            <img loading="lazy" src="static/images/flintstones8.png" alt="sample8">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample9">
                            <img loading="lazy" src="static/images/pororo1.png" alt="sample9"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample10">
                            <img loading="lazy" src="static/images/pororo2.png" alt="sample10">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns is-centered has-text-centered">
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample11">
                            <img loading="lazy" src="static/images/pororo3.png" alt="sample11"/>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <div class="card-image js-modal-trigger" data-target="modal-sample12">
                            <img loading="lazy" src="static/images/pororo4.png" alt="sample12">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--BibTex citation -->
<!--    <section class="section" id="BibTeX">-->
<!--        <div class="container is-max-desktop content">-->
<!--            <h2 class="title">BibTeX</h2>-->
<!--            <pre><code></code></pre>-->
<!--        </div>-->
<!--    </section>-->
<!--End BibTex citation -->


<footer class="footer">
    <div class="container">
        <div class="columns is-centered">
            <div class="column is-8">
                <div class="content">
                    <p>
                        This page was built using the <a
                            href="https://github.com/eliahuhorwitz/Academic-project-page-template"
                            target="_blank">Academic Project Page Template</a> which was adopted from the <a
                            href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
                        You are free to borrow the of this website, we just ask that you link back to this page in
                        the footer. <br> This website is licensed under a <a rel="license"
                                                                             href="http://creativecommons.org/licenses/by-sa/4.0/"
                                                                             target="_blank">Creative
                        Commons Attribution-ShareAlike 4.0 International License</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Statcounter tracking code -->

<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

<!-- End of Statcounter Code -->

</body>

</html>